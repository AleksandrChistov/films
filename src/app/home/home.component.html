<div class="container">

  <section class="header">
    <img class="home-img" src="/assets/img/logo.png" alt="Logo">
    <div class="search-wrap">
      <input (input)="searchFilter($event)" class="search" type="text" name="search" id="search" placeholder="Поиск...">
      <svg class="seacrh-icon" xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"/></svg>
    </div>
  </section>

  <div class="container-films" *ngIf="!loadingOne">
    <div class="popular-film-wrap" *ngFor="let film of popularFilms">
      <img class="popular-film-img" src="https://image.tmdb.org/t/p/w200/{{film.poster_path}}" alt="">
      <div class="popular-film">
        <a *ngIf="!film.favorite; else btnFavorite" (click)="changeFavorites(film.id, true)" class="add-favorites-btn" title="Добавить фильм в избранное" aria-label="Добавить фильм в избранное">
          <svg class="popular-film__star-img" width="30" height="30" viewBox="0 0 1000 1000" xmlns="http://www.w3.org/2000/svg">
            <g><path d="M974.1,461.8l-180.7,163c-11.4,11.7-16.6,28.5-13.9,45l42.7,261.8c3.3,20.7,0,35.6-16.2,48c-9.1,7-20,10.6-30.9,10.6c-8.4,0-16.7-2.1-24.4-6.4L522.5,854.3c-14.1-7.8-30.9-7.8-44.9,0L258.9,983.7c-17.7,9.8-39.2,8.2-55.4-4.2c-16.2-12.4-29.1-27.2-25.7-48l52.3-267.2c2.7-16.5-2.5-33.3-13.9-45L25.9,461.8c-14.4-14.7-19.5-36.7-13.4-56.7c6.2-20,22.6-34.6,42.4-37.6l247.6-45.7c15.7-2.4,29.3-12.8,36.3-27.8l114-253.1C461.7,21.9,480,10,500,10c20,0,38.2,11.9,47.1,30.8l109.5,253.1c7,15,20.6,25.4,36.3,27.8l252,45.7c19.8,3,36.2,17.6,42.4,37.6C993.6,425.1,988.4,447.1,974.1,461.8"/></g>
          </svg>
        </a>
        <ng-template #btnFavorite>
          <a (click)="changeFavorites(film.id, false)" class="add-favorites-btn popular-film__star-img_active" title="Удалить фильм из избранного" aria-label="Удалить фильм из избранного">
            <svg class="popular-film__star-img" width="30" height="30" viewBox="0 0 1000 1000" xmlns="http://www.w3.org/2000/svg">
              <g><path d="M974.1,461.8l-180.7,163c-11.4,11.7-16.6,28.5-13.9,45l42.7,261.8c3.3,20.7,0,35.6-16.2,48c-9.1,7-20,10.6-30.9,10.6c-8.4,0-16.7-2.1-24.4-6.4L522.5,854.3c-14.1-7.8-30.9-7.8-44.9,0L258.9,983.7c-17.7,9.8-39.2,8.2-55.4-4.2c-16.2-12.4-29.1-27.2-25.7-48l52.3-267.2c2.7-16.5-2.5-33.3-13.9-45L25.9,461.8c-14.4-14.7-19.5-36.7-13.4-56.7c6.2-20,22.6-34.6,42.4-37.6l247.6-45.7c15.7-2.4,29.3-12.8,36.3-27.8l114-253.1C461.7,21.9,480,10,500,10c20,0,38.2,11.9,47.1,30.8l109.5,253.1c7,15,20.6,25.4,36.3,27.8l252,45.7c19.8,3,36.2,17.6,42.4,37.6C993.6,425.1,988.4,447.1,974.1,461.8"/></g>
            </svg>
          </a>
        </ng-template>
        <p class="raiting-film">{{film.vote_average}}</p>
        <h3 class="popular-film__title">{{film.title}}</h3>
        <p class="popular-film__descr">{{film.overview | slice:0:300}}...</p>
          <span class="popular-film__genre">{{film.genre_ids | titlecase}}</span>
        <a [routerLink]="['/film', film.id]" class="home-btn popular-film__btn">Подробнее</a>
      </div>
    </div>
  </div>

  <p class="loading-title" *ngIf="loading">Загрузка контента...</p>

</div>